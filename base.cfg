[buildout]
extends = versions.cfg
develop = .
          ./cactus
versions = versions

[cactus]
recipe = zc.recipe.egg:scripts
dependent-scripts = false
interpreter = py
eggs = setuptools
       Cactus
       crate-cactus
       cdn-fastly
       httplib2

[build]
recipe = zc.recipe.egg
dependent-scripts = false
interpreter = freeze
eggs = setuptools
       Cactus
       crate-cactus

[serve]
recipe = zc.recipe.egg:scripts
scripts = cactus=serve
dependent-scripts = false
eggs = Cactus
       crate-cactus
initialization =
  from os import path
  def abs_path(*args):
      return path.abspath(path.join(*args))
  base = path.dirname(__file__)
  site = abs_path(base, '..', 'site')
  conf = abs_path(base, '..', 'config', 'local.json')
  sys.argv[1:1] = ['serve', '--path', site, '--conf', conf]

[test]
recipe = zc.recipe.testrunner
eggs = crate-cactus
