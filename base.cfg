[buildout]
extends = versions.cfg
develop = .
          ./cactus
versions = versions

[eggs]
recipe = zc.recipe.egg:scripts
dependent-scripts = false
interpreter = py
eggs = crate-cactus
       py2app

[serve]
recipe = zc.recipe.egg:scripts
scripts = cactus=serve
dependent-scripts = false
extra-paths = ${buildout:directory}/src
eggs = Cactus
initialization =
  from os import path
  def abs_path(*args):
      return path.abspath(path.join(*args))
  base = path.dirname(__file__)
  site = abs_path(base, '..', 'site')
  conf = abs_path(base, '..', 'config', 'local.json')
  sys.argv[1:1] = ['serve', '--path', site, '--conf', conf]

[cactus]
recipe = zc.recipe.egg
dependent-scripts = false
extra-paths = ${buildout:directory}/src
eggs = setuptools
       Cactus

